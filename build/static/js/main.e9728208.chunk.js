(this["webpackJsonpipfs-search"]=this["webpackJsonpipfs-search"]||[]).push([[0],{61:function(e,t,n){e.exports=n(98)},66:function(e,t,n){},67:function(e,t,n){e.exports=n.p+"static/media/logo.25bf045c.svg"},68:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(16),i=n.n(l),c=(n(66),n(67),n(68),n(46)),o=n(47),s=n(49),u=n(48),m=n(50),h=n(35),d=n.n(h),p=n(127),f=n(130),v=n(131),E=n(128),y=n(129),g=function(e){var t=e.title,n=e.about,a=e.link;return null!=n&&""!=n?r.a.createElement(p.a,{style:{maxWidth:"345"}},r.a.createElement(E.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.includes("_")?t.replace("_"," "):t),r.a.createElement(y.a,{variant:"body",color:"textSecondary",component:"p"},n)),r.a.createElement(f.a,null,r.a.createElement(v.a,{size:"medium",color:"primary"},r.a.createElement("a",{href:a},"Wiki")),r.a.createElement(y.a,{variant:"body",color:"textSecondary",component:"p"},r.a.createElement("div",null,r.a.createElement("p",null,"Created on: 2017-05 from the"," ",r.a.createElement("a",{href:"http://wiki.kiwix.org/wiki/Content_in_all_languages"},"kiwix ZIM file")))))):r.a.createElement("div",null)},S=n(132),w=function(e){var t=e.title,n=e.hash,a=e.description,l=e.lastSeen,i=e.score,c=e.size,o=document.createElement("div");o.innerHTML=t,o=o.textContent||o.innerText||"",(s=document.createElement("div")).innerHTML=a;var s=s.textContent||s.innerText||"";return null!=t&&""!=t?r.a.createElement("div",{style:{paddingTop:"2em"}},r.a.createElement(p.a,{style:{maxWidth:"345"}},r.a.createElement(S.a,null,r.a.createElement(E.a,null,r.a.createElement(y.a,{gutterBottom:!0,variant:"h6",component:"h2"},r.a.createElement("a",{href:"https://cloudflare-ipfs.com/ipfs/"+n},o)),r.a.createElement(y.a,{variant:"body",color:"textSecondary",component:"p"},s))),r.a.createElement(f.a,null,r.a.createElement(y.a,{variant:"body",color:"textSecondary",component:"p"},i?"Score: "+i:""),r.a.createElement(y.a,{variant:"body",color:"textSecondary",component:"p"},c?"Size: "+c+" bytes":""),r.a.createElement(y.a,{variant:"body",color:"textSecondary",component:"p"},l?"Last seen: "+l.split("T")[0]:""),r.a.createElement(v.a,{size:"medium",color:"primary"},"Metadata")))):r.a.createElement("div",null)},b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._search=function(e){n.setState({wiki:null,title:null,results:null});var t=[];if(e.includes(" ")){t=e.split(" "),e="";for(var a=0;a<t.length;a++)t[a].length>=1&&(t[a]=t[a][0].toUpperCase()+t[a].slice(1).toLowerCase()),a<t.length-1?e+=t[a]+"_":e+=t[a];console.log(e)}fetch("https://en.wikipedia-on-ipfs.org/wiki/"+e+".html").then((function(e){return e.text()})).then((function(t){var a=(new DOMParser).parseFromString(t,"text/html");n.setState({wiki:n._getElementByXpath(a,"/html/body/div[1]/div/p[2]")||n._getElementByXpath(a,"/html/body/div[1]"),title:e})})).catch((function(e){return console.error(e)})),fetch("https://api.ipfs-search.com/v1/search?q="+e).then((function(e){return e.json()})).then((function(e){n.setState({results:e.hits})})).catch((function(e){return console.error(e)}))},n.createCards=function(e){var t=[];for(var n in e)t.push(r.a.createElement(w,{title:e[n].title,hash:e[n].hash,description:e[n].description,lastSeen:e[n]["last-seen"],score:e[n].score,size:e[n].size}));return t},n.state={value:null,wiki:null,title:null,results:null},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"_getMetaData",value:function(e){fetch("https://api.ipfs-search.com/v1/metadata/"+e).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.error(e)}))}},{key:"_getElementByXpath",value:function(e,t){return e.evaluate(t,e,null,XPathResult.STRING_TYPE,null).stringValue}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,null===this.state.results?r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"45vh"}},r.a.createElement("div",{style:{padding:"2em"}},r.a.createElement("h1",null,"InterPlanetary File System"),r.a.createElement("h3",null,"Search the Distributed Web")),r.a.createElement(d.a,{style:{width:"50%"},value:this.state.value,onChange:function(t){return e.setState({value:t})},onRequestSearch:function(){return e._search(e.state.value)},onCancelSearch:function(){return e.setState({value:""})}}),r.a.createElement("h5",{style:{margin:"2em"}},"Running your own"," ",r.a.createElement("a",{href:"https://docs.ipfs.io/introduction/usage/"},"IPFS node")," ","will speed up your search and distribute content")):r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"2em"}},r.a.createElement("h1",null,"Search the Distributed Web"),r.a.createElement(d.a,{style:{width:"60%"},value:this.state.value,onChange:function(t){return e.setState({value:t})},onRequestSearch:function(){return e._search(e.state.value)},onCancelSearch:function(){return e.setState({value:""})}})),r.a.createElement("div",{style:{textAlign:"left",padding:"2em"}},r.a.createElement("div",null,r.a.createElement(g,{title:this.state.title,about:this.state.wiki,link:"https://en.wikipedia-on-ipfs.org/wiki/"+this.state.title+".html"})),r.a.createElement("div",null,this.createCards(this.state.results))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement("a",{style:{padding:"0.75em"},href:"http://ipfs-search.com/api"},"API"),r.a.createElement("a",{style:{padding:"0.75em"},href:"https://github.com/Lucas-Kohorst/ipfs-search-engine"},"Code"),r.a.createElement("a",{style:{padding:"0.75em"},href:"mailto: kohorstlucas@gmail.com"},"Contact")))}}]),t}(r.a.Component);var x=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.e9728208.chunk.js.map